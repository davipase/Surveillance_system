<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: OffboardControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#related">Related Functions</a> &#124;
<a href="classOffboardControl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">OffboardControl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class that keeps the drone in offboard mode and make it move.  
 <a href="classOffboardControl.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for OffboardControl:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classOffboardControl.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ecc43db30d386042e5d7f7dca80fe6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#a8ecc43db30d386042e5d7f7dca80fe6c">OffboardControl</a> ()</td></tr>
<tr class="separator:a8ecc43db30d386042e5d7f7dca80fe6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73b35817927b3e7bb72e6c7fb6a9754"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#ac73b35817927b3e7bb72e6c7fb6a9754">publish_control_mode</a> () const</td></tr>
<tr class="separator:ac73b35817927b3e7bb72e6c7fb6a9754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1ff2acd75a4f449ae99bc28a64be47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#ade1ff2acd75a4f449ae99bc28a64be47">publish_trajectory_setpoint</a> () const</td></tr>
<tr class="separator:ade1ff2acd75a4f449ae99bc28a64be47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c32c48dd6b5353af8e64036b929d99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#a30c32c48dd6b5353af8e64036b929d99">publish_vehicle_command</a> (uint16_t command, float param1=0.0, float param2=1.0, float param3=0.0, float param4=0.0, float param5=0.0, float param6=0.0, float param7=0.0) const</td></tr>
<tr class="separator:a30c32c48dd6b5353af8e64036b929d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac348065aa1b1d37f2ccca833e495ec77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#ac348065aa1b1d37f2ccca833e495ec77">send_message</a> ()</td></tr>
<tr class="separator:ac348065aa1b1d37f2ccca833e495ec77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6db5028e290bdb5698a57548e6821b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#a4d6db5028e290bdb5698a57548e6821b">arm</a> () const</td></tr>
<tr class="separator:a4d6db5028e290bdb5698a57548e6821b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765d396d68d64893923eeae2f9c3322a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#a765d396d68d64893923eeae2f9c3322a">disarm</a> () const</td></tr>
<tr class="separator:a765d396d68d64893923eeae2f9c3322a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="related" name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:a1775db78ca5b2cdb441c9eecdd8baca9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOffboardControl.html#a1775db78ca5b2cdb441c9eecdd8baca9">set_last_pos</a> (float x, float y, float z, float yaw)</td></tr>
<tr class="separator:a1775db78ca5b2cdb441c9eecdd8baca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class that keeps the drone in offboard mode and make it move. </p>
<p >The offboard class is responsible for keeping the drone in offboard mode by publishing to the PX4 Autopilot both the OffboardControlMode message and the TrajectorySetpoint message. It receives the commands from the node Comando, interpretes it and sends it to the PX4 via the corresponding topic. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8ecc43db30d386042e5d7f7dca80fe6c" name="a8ecc43db30d386042e5d7f7dca80fe6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ecc43db30d386042e5d7f7dca80fe6c">&#9670;&#160;</a></span>OffboardControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OffboardControl::OffboardControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The constructor. This constructor initialize all the Publishers and subscribers with the correct topic, and creates the callback function for the Timesync and the <a class="el" href="classCommand.html" title="Class that lets the user input commands for the drone.">Command</a> subscriber. While the former simply stores the timestamp values in the timestamp_ variable, the latter decypher the meaning of the command based on the command ID, and sends to the drone the correct message. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4d6db5028e290bdb5698a57548e6821b" name="a4d6db5028e290bdb5698a57548e6821b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d6db5028e290bdb5698a57548e6821b">&#9670;&#160;</a></span>arm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::arm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The method that sends the message to arm the drone </p>

</div>
</div>
<a id="a765d396d68d64893923eeae2f9c3322a" name="a765d396d68d64893923eeae2f9c3322a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765d396d68d64893923eeae2f9c3322a">&#9670;&#160;</a></span>disarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::disarm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The method that sends the message to disarm the drone </p>

</div>
</div>
<a id="ac73b35817927b3e7bb72e6c7fb6a9754" name="ac73b35817927b3e7bb72e6c7fb6a9754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73b35817927b3e7bb72e6c7fb6a9754">&#9670;&#160;</a></span>publish_control_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::publish_control_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The method that sets and publishes the OffboardControlMode messages. </p>

</div>
</div>
<a id="ade1ff2acd75a4f449ae99bc28a64be47" name="ade1ff2acd75a4f449ae99bc28a64be47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1ff2acd75a4f449ae99bc28a64be47">&#9670;&#160;</a></span>publish_trajectory_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::publish_trajectory_setpoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The method that sets and publishes the Trajectorysetpoint messages. </p>

</div>
</div>
<a id="a30c32c48dd6b5353af8e64036b929d99" name="a30c32c48dd6b5353af8e64036b929d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c32c48dd6b5353af8e64036b929d99">&#9670;&#160;</a></span>publish_vehicle_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::publish_vehicle_command </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param1</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param2</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param3</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param4</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param5</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param6</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>param7</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The method that sets and publishes the commands. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>the command integer identifier (for takeoff and landing) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac348065aa1b1d37f2ccca833e495ec77" name="ac348065aa1b1d37f2ccca833e495ec77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac348065aa1b1d37f2ccca833e495ec77">&#9670;&#160;</a></span>send_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OffboardControl::send_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This methodcalls both the <a class="el" href="classOffboardControl.html#ac73b35817927b3e7bb72e6c7fb6a9754">publish_control_mode()</a> and the <a class="el" href="classOffboardControl.html#ade1ff2acd75a4f449ae99bc28a64be47">publish_trajectory_setpoint()</a> methods. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a1775db78ca5b2cdb441c9eecdd8baca9" name="a1775db78ca5b2cdb441c9eecdd8baca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1775db78ca5b2cdb441c9eecdd8baca9">&#9670;&#160;</a></span>set_last_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_last_pos </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >A function used to set the last position of the drone. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The last x position of the drone </td></tr>
    <tr><td class="paramname">y</td><td>The last x position of the drone </td></tr>
    <tr><td class="paramname">z</td><td>The last x position of the drone </td></tr>
    <tr><td class="paramname">yaw</td><td>The last yaw value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>controllo/src/controllo.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
